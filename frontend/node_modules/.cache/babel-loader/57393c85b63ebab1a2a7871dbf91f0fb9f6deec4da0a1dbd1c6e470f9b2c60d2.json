{"ast":null,"code":"import{BrowserRouter as Router,Route,Routes,useLocation,Navigate}from\"react-router-dom\";import MainNavbar from\"./components/MainNavbar\";import AppNavbar from\"./components/AppNavbar\";import Login from\"./pages/Login\";import Community from\"./pages/Community\";import Fitness from\"./pages/Fitness\";import NotFound from\"./pages/NotFound\";import MainPage from\"./pages/MainPage\";import{useAuth}from\"./AuthContext\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Layout=_ref=>{let{children}=_ref;const location=useLocation();const{user,logout}=useAuth();const showMainNavbar=[\"/\",\"/login\"].includes(location.pathname);return/*#__PURE__*/_jsxs(_Fragment,{children:[showMainNavbar?/*#__PURE__*/_jsx(MainNavbar,{}):/*#__PURE__*/_jsx(AppNavbar,{username:user,onLogout:logout}),children]});};function App(){const{user}=useAuth();return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/fitness\",replace:true}):/*#__PURE__*/_jsx(MainPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/fitness\",replace:true}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/fitness\",element:user?/*#__PURE__*/_jsx(Fitness,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/community\",element:user?/*#__PURE__*/_jsx(Community,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]})})});}export default App;","map":{"version":3,"names":["BrowserRouter","Router","Route","Routes","useLocation","Navigate","MainNavbar","AppNavbar","Login","Community","Fitness","NotFound","MainPage","useAuth","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Layout","_ref","children","location","user","logout","showMainNavbar","includes","pathname","username","onLogout","App","path","element","to","replace"],"sources":["/home/ubuntu/EmberLight_Projecte2/frontend/src/App.js"],"sourcesContent":["import { BrowserRouter as Router, Route, Routes, useLocation, Navigate } from \"react-router-dom\";\nimport MainNavbar from \"./components/MainNavbar\";\nimport AppNavbar from \"./components/AppNavbar\";\nimport Login from \"./pages/Login\";\nimport Community from \"./pages/Community\";\nimport Fitness from \"./pages/Fitness\";\nimport NotFound from \"./pages/NotFound\";\nimport MainPage from \"./pages/MainPage\";\nimport { useAuth } from \"./AuthContext\";\n\nconst Layout = ({ children }) => {\n  const location = useLocation();\n  const { user, logout } = useAuth();\n  const showMainNavbar = [\"/\", \"/login\"].includes(location.pathname);\n\n  return (\n    <>\n      {showMainNavbar ? <MainNavbar /> : <AppNavbar username={user} onLogout={logout} />}\n      {children}\n    </>\n  );\n};\n\nfunction App() {\n  const { user } = useAuth();\n\n  return (\n    <Router>\n      <Layout>\n        <Routes>\n          <Route path=\"/\" element={user ? <Navigate to=\"/fitness\" replace /> : <MainPage />} />\n          <Route path=\"/login\" element={user ? <Navigate to=\"/fitness\" replace /> : <Login />} />\n          <Route path=\"/fitness\" element={user ? <Fitness /> : <Navigate to=\"/login\" replace />} />\n          <Route path=\"/community\" element={user ? <Community /> : <Navigate to=\"/login\" replace />} />\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </Layout>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,OAASA,aAAa,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,MAAM,CAAEC,WAAW,CAAEC,QAAQ,KAAQ,kBAAkB,CAChG,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAChD,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,OAASC,OAAO,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC1B,KAAM,CAAAE,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEoB,IAAI,CAAEC,MAAO,CAAC,CAAGZ,OAAO,CAAC,CAAC,CAClC,KAAM,CAAAa,cAAc,CAAG,CAAC,GAAG,CAAE,QAAQ,CAAC,CAACC,QAAQ,CAACJ,QAAQ,CAACK,QAAQ,CAAC,CAElE,mBACET,KAAA,CAAAF,SAAA,EAAAK,QAAA,EACGI,cAAc,cAAGX,IAAA,CAACT,UAAU,GAAE,CAAC,cAAGS,IAAA,CAACR,SAAS,EAACsB,QAAQ,CAAEL,IAAK,CAACM,QAAQ,CAAEL,MAAO,CAAE,CAAC,CACjFH,QAAQ,EACT,CAAC,CAEP,CAAC,CAED,QAAS,CAAAS,GAAGA,CAAA,CAAG,CACb,KAAM,CAAEP,IAAK,CAAC,CAAGX,OAAO,CAAC,CAAC,CAE1B,mBACEE,IAAA,CAACd,MAAM,EAAAqB,QAAA,cACLP,IAAA,CAACK,MAAM,EAAAE,QAAA,cACLH,KAAA,CAAChB,MAAM,EAAAmB,QAAA,eACLP,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,GAAG,CAACC,OAAO,CAAET,IAAI,cAAGT,IAAA,CAACV,QAAQ,EAAC6B,EAAE,CAAC,UAAU,CAACC,OAAO,MAAE,CAAC,cAAGpB,IAAA,CAACH,QAAQ,GAAE,CAAE,CAAE,CAAC,cACrFG,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAET,IAAI,cAAGT,IAAA,CAACV,QAAQ,EAAC6B,EAAE,CAAC,UAAU,CAACC,OAAO,MAAE,CAAC,cAAGpB,IAAA,CAACP,KAAK,GAAE,CAAE,CAAE,CAAC,cACvFO,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,UAAU,CAACC,OAAO,CAAET,IAAI,cAAGT,IAAA,CAACL,OAAO,GAAE,CAAC,cAAGK,IAAA,CAACV,QAAQ,EAAC6B,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,cACzFpB,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,YAAY,CAACC,OAAO,CAAET,IAAI,cAAGT,IAAA,CAACN,SAAS,GAAE,CAAC,cAAGM,IAAA,CAACV,QAAQ,EAAC6B,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,cAC7FpB,IAAA,CAACb,KAAK,EAAC8B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAElB,IAAA,CAACJ,QAAQ,GAAE,CAAE,CAAE,CAAC,EACnC,CAAC,CACH,CAAC,CACH,CAAC,CAEb,CAEA,cAAe,CAAAoB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}